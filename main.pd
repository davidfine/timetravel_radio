#N canvas 557 100 537 499 10;
#N canvas 469 212 593 372 echomode 0;
#X obj 126 138 *~;
#X text 265 1 Enable to Play back microphone audio with delay.;
#X obj 71 62 adc~ 1;
#X obj 457 41 inlet;
#X obj 157 6 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 157 37 loadbang;
#X obj 156 96 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0.75
0.75;
#X obj 72 94 lop~ 600;
#X obj 156 72 metroplus 10000 2000;
#X obj 96 185 delwrite~ echo 2000;
#X obj 323 36 delread~ echo 2000;
#X obj 455 69 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 326 83 spigot~;
#X obj 448 102 outlet~;
#X text 449 123 to DAC;
#X text 36 312 The metronome occasionally clears out buffer so as to
eliminate feedback loops.;
#X connect 0 0 9 0;
#X connect 2 0 7 0;
#X connect 3 0 11 0;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 6 0 0 1;
#X connect 7 0 0 0;
#X connect 8 0 6 0;
#X connect 10 0 12 0;
#X connect 11 0 12 1;
#X connect 12 1 13 0;
#X restore 391 383 pd echomode;
#X obj 18 89 hsl 128 15 0 1024 0 0 empty empty empty -2 -8 0 10 -261234
-1 -1 0 1;
#N canvas 284 95 1052 460 radios 1;
#N canvas 194 68 803 735 initStations 1;
#X obj 414 125 msgfile;
#X symbolatom 459 186 55 0 0 0 - - -;
#X msg 412 92 add \$1;
#X obj 412 68 folder_list;
#X floatatom 502 156 5 0 0 0 - - -;
#X obj 304 437 s goto;
#X obj 241 31 r goto;
#X obj 376 449 pack f s f f;
#X obj 389 319 t b b b;
#X obj 388 289 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 408 -41 loadbang;
#X obj 420 350 urn 12;
#X obj 420 375 expr $f1 * 100;
#X obj 522 348 random 10;
#X obj 524 375 expr $f1 + 5;
#X obj 369 157 s station;
#X obj 361 411 r station;
#X msg 378 351 clear;
#X obj 79 588 outlet;
#X obj 126 588 outlet;
#X obj 174 588 outlet;
#X obj 221 588 outlet;
#X obj 268 588 outlet;
#X obj 315 588 outlet;
#X obj 363 588 outlet;
#X obj 410 588 outlet;
#X obj 457 588 outlet;
#X obj 504 588 outlet;
#X obj 552 588 outlet;
#X obj 599 588 outlet;
#X obj 375 485 route 0 1 2 3 4 5 6 7 8 9 10 11;
#X obj 599 534 print too_many_stations;
#X msg 249 120 end \, where;
#X msg 276 152 clear;
#X msg 242 78 goto \$1 \, this \, end \, where;
#X floatatom 230 429 5 0 0 0 - - -;
#X obj 303 386 counter 0 0 1;
#X obj 384 226 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 361 196 loadbang;
#X obj 304 210 inlet;
#X text 293 231 load stations;
#X text 32 -38 This searches a directory of folders (one per station)
and outputs a message as "folder freq signal" to each outlet in sequence.
;
#X obj 387 257 metro 1000;
#X obj 479 131 + 1;
#X msg 412 42 symbol /Users/dfine/Documents/projects/radio/wavs/*;
#X connect 0 0 1 0;
#X connect 0 0 15 0;
#X connect 0 1 43 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 36 4;
#X connect 6 0 34 0;
#X connect 7 0 30 0;
#X connect 8 0 36 0;
#X connect 8 1 11 0;
#X connect 8 2 13 0;
#X connect 9 0 8 0;
#X connect 10 0 44 0;
#X connect 11 0 12 0;
#X connect 12 0 7 2;
#X connect 13 0 14 0;
#X connect 14 0 7 3;
#X connect 16 0 7 1;
#X connect 17 0 11 0;
#X connect 30 0 18 0;
#X connect 30 1 19 0;
#X connect 30 2 20 0;
#X connect 30 3 21 0;
#X connect 30 4 22 0;
#X connect 30 5 23 0;
#X connect 30 6 24 0;
#X connect 30 7 25 0;
#X connect 30 8 26 0;
#X connect 30 9 27 0;
#X connect 30 10 28 0;
#X connect 30 11 29 0;
#X connect 30 12 31 0;
#X connect 32 0 0 0;
#X connect 33 0 0 0;
#X connect 34 0 0 0;
#X connect 36 0 5 0;
#X connect 36 0 7 0;
#X connect 36 0 35 0;
#X connect 36 2 37 0;
#X connect 37 0 42 0;
#X connect 38 0 37 0;
#X connect 39 0 37 0;
#X connect 42 0 9 0;
#X connect 43 0 4 0;
#X connect 44 0 3 0;
#X coords 0 -1 1 1 800 20 1 100 100;
#X restore 65 94 pd initStations;
#X obj 92 128 r tuner;
#X obj 162 128 r tuner;
#X obj 236 128 r tuner;
#X obj 739 128 r tuner;
#X obj 667 128 r tuner;
#X obj 597 128 r tuner;
#X obj 526 128 r tuner;
#X obj 451 128 r tuner;
#X obj 378 128 r tuner;
#X obj 311 128 r tuner;
#X obj 811 128 r tuner;
#X obj 882 128 r tuner;
#X text 508 -50 each radio abstraction gets set to read from a different
folder in the root directory \, and independently decides if it should
be outputting audio based on the curent frequency. They are initialized
with three values: folder name \, center frequency \, and signal strength.
The signal strength is used to determine how near the center freq the
dial must be before the station's volume starts to ramp up.;
#X obj 64 64 bng 15 250 50 0 empty empty Reload 17 7 0 10 -262144 -1
-1;
#X obj 64 27 inlet;
#X obj 90 -138 mixer~ 12 --------------------------------------------------
;
#X obj 137 161 radio;
#X obj 505 263 outlet~;
#X text 254 25 dadafaew;
#X obj 68 161 radio;
#X obj 210 161 radio;
#X obj 283 161 radio;
#X obj 352 161 radio;
#X obj 425 161 radio;
#X obj 500 161 radio;
#X obj 569 161 radio;
#X obj 642 161 radio;
#X obj 715 161 radio;
#X obj 784 161 radio;
#X obj 857 161 radio;
#X connect 0 0 20 0;
#X connect 0 1 17 0;
#X connect 0 2 21 0;
#X connect 0 3 22 0;
#X connect 0 4 23 0;
#X connect 0 5 24 0;
#X connect 0 6 25 0;
#X connect 0 7 26 0;
#X connect 0 8 27 0;
#X connect 0 9 28 0;
#X connect 0 10 29 0;
#X connect 0 11 30 0;
#X connect 1 0 20 1;
#X connect 2 0 17 1;
#X connect 3 0 21 1;
#X connect 4 0 28 1;
#X connect 5 0 27 1;
#X connect 6 0 26 1;
#X connect 7 0 25 1;
#X connect 8 0 24 1;
#X connect 9 0 23 1;
#X connect 10 0 22 1;
#X connect 11 0 29 1;
#X connect 12 0 30 1;
#X connect 14 0 0 0;
#X connect 15 0 14 0;
#X connect 17 0 18 0;
#X connect 20 0 18 0;
#X connect 21 0 18 0;
#X connect 22 0 18 0;
#X restore 249 353 pd radios;
#N canvas 764 100 450 300 sensors 1;
#X obj 55 245 outlet;
#X obj 178 249 outlet;
#X obj 298 247 outlet;
#X text 38 272 dial reading;
#X text 298 272 to lights;
#X obj 63 44 hsl 128 15 0 1023 0 0 empty empty Tuner -2 -8 0 10 -260097
-1 -1 0 1;
#N canvas 190 140 953 611 debounce 1;
#X obj 58 39 inlet;
#X obj 67 238 outlet;
#X text 268 28 this smooths out the dial motion.;
#X obj 67 122 int;
#X obj 441 187 vsl 15 128 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 1700 1;
#X obj 440 333 f;
#X floatatom 384 371 5 0 0 0 - - -;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 5 0 6 0;
#X restore 59 142 pd debounce;
#X obj 358 40 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 355 15 power plug;
#X text 180 274 to volume?;
#X obj 268 45 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 255 20 percussive;
#X floatatom 86 188 5 0 1023 2 freq - -;
#X connect 5 0 6 0;
#X connect 6 0 0 0;
#X connect 6 0 12 0;
#X restore 15 59 pd sensors;
#X obj 15 144 s tuner;
#X obj 15 114 int;
#N canvas 883 254 450 300 init 0;
#X obj 171 116 s delay;
#X obj 254 117 s micVolume;
#X obj 64 115 s masterVolume;
#X restore 9 13 pd init;
#X obj 391 353 r tuner;
#X obj 349 446 dac~ 1;
#X obj 64 346 table tuner;
#X obj 57 313 tabwrite table;
#X obj 138 287 r tuner;
#X connect 0 0 8 0;
#X connect 1 0 5 0;
#X connect 2 0 8 0;
#X connect 3 0 1 0;
#X connect 5 0 4 0;
#X connect 7 0 0 0;
#X connect 11 0 10 1;
